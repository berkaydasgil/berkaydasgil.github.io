<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>The Way</title>
  <meta name="robots" content="noindex,nofollow">
  <style>

  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 200px;
    height: 6px;
    background: #555; 
    border-radius: 5px;
    outline: none;
  }

  input[type="range"]::-webkit-slider-runnable-track {
    height: 6px;
    background: #555;
    border-radius: 5px;
  }

  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: #ccc;
    border-radius: 50%;
    cursor: pointer;
    margin-top: -5px; 
  }

  input[type="range"]::-moz-range-track {
    height: 6px;
    background: #555;
    border-radius: 5px;
  }
  input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #ccc;
    border: none;
    border-radius: 50%;
    cursor: pointer;
  }
</style>

</head>
<body style="background:#111;color:white;text-align:center;padding-top:100px;font-family:sans-serif; user-select: none; cursor: default;">

  <h1>The Way</h1>

  <div style="margin-top:30px;">
    <img src="bigfin_squid.jpg"
         style="max-width:400px;width:80%;display:block;margin:0 auto;border-radius:10px;"
         onerror="this.style.display='none'; alert('Image not found: bigfin_squid.jpg');">
  </div>

  <p id="status" style="margin-top:20px;color:#aaa;">Loading audio...</p>

  <div style="margin-top:20px;">
    <input type="range"
           id="volumeSlider"
           min="0"
           max="1"
           step="0.01"
           value="1"
           style="width:200px;">
  </div>

  <div style="margin-top:40px;">
    <button id="playPauseBtn"
            disabled
            style="padding:15px 40px;font-size:18px;border:none;border-radius:8px;cursor:pointer;">
      Play
    </button>
  </div>

  <script>
    let audio = new Audio();
    let isPlaying = false;
    const button = document.getElementById("playPauseBtn");
    const status = document.getElementById("status");
    const volumeSlider = document.getElementById("volumeSlider");

    audio.volume = volumeSlider.value;

    volumeSlider.addEventListener("input", () => {
      audio.volume = volumeSlider.value;
    });

    fetch("the-way.txt")
      .then(response => {
        if (!response.ok) throw new Error("Failed to load the-way.txt");
        return response.text();
      })
      .then(base64Data => {
        const binaryString = atob(base64Data.trim());
        const len = binaryString.length;
        const bytes = new Uint8Array(len);

        for (let i = 0; i < len; i++) {
          bytes[i] = binaryString.charCodeAt(i);
        }

        const blob = new Blob([bytes], { type: "audio/mpeg" });
        const blobUrl = URL.createObjectURL(blob);

        audio.src = blobUrl;
        audio.loop = true;

        status.textContent = "Audio ready.";
        button.disabled = false;
      })
      .catch(err => {
        console.error(err);
        status.textContent = "Error loading audio. Check console (F12).";
      });

    button.addEventListener("click", () => {
      if (!isPlaying) {
        audio.play();
        button.textContent = "Pause";
        isPlaying = true;
      } else {
        audio.pause();
        button.textContent = "Play";
        isPlaying = false;
      }
    });
  </script>

</body>
</html>

